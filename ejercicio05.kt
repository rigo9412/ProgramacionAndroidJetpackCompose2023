//Elaborar una funci√≥n que reciba un texto y cuente cuantas veces aparece una letra en el texto (solo letras)
//ejemplo a=5, o=40.
import java.text.Normalizer

fun main(){
    val time = measureTimeMillis {
    println(ContarLetras("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Proin sagittis nisl rhoncus mattis rhoncus. Vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus. Integer malesuada nunc vel risus commodo. Pellentesque elit ullamcorper dignissim cras. Nunc lobortis mattis aliquam faucibus purus. Diam phasellus vestibulum lorem sed risus ultricies. Sagittis nisl rhoncus mattis rhoncus urna. Ut tristique et egestas quis ipsum suspendisse ultrices gravida. Quis eleifend quam adipiscing vitae. Tellus mauris a diam maecenas sed enim ut. Faucibus et molestie ac feugiat sed. In tellus integer feugiat scelerisque varius morbi enim nunc faucibus.Mi quis hendrerit dolor magna eget est. Odio pellentesque diam volutpat commodo sed egestas. Mattis nunc sed blandit libero volutpat sed. Libero nunc consequat interdum varius sit amet mattis vulputate enim. Rutrum tellus pellentesque eu tincidunt tortor aliquam nulla facilisi cras. Sed odio morbi quis commodo odio aenean sed adipiscing. Amet volutpat consequat mauris nunc congue nisi. Amet purus gravida quis blandit. Aenean sed adipiscing diam donec adipiscing. Varius duis at consectetur lorem donec massa. Vitae nunc sed velit dignissim sodales. Magna eget est lorem ipsum dolor sit amet. In iaculis nunc sed augue lacus viverra. Vehicula ipsum a arcu cursus vitae congue mauris rhoncus aenean.Tellus in metus vulputate eu. Nisi quis eleifend quam adipiscing. Aliquet nec ullamcorper sit amet risus nullam. Iaculis at erat pellentesque adipiscing commodo elit at imperdiet. Mauris a diam maecenas sed. Cursus risus at ultrices mi tempus. In hendrerit gravida rutrum quisque. Morbi tempus iaculis urna id volutpat. Laoreet id donec ultrices tincidunt arcu non sodales. Semper risus in hendrerit gravida rutrum quisque non. Sem et tortor consequat id porta nibh venenatis cras. Euismod in pellentesque massa placerat duis ultricies. Fames ac turpis egestas sed tempus urna et pharetra. Egestas quis ipsum suspendisse ultrices gravida. Nulla porttitor massa id neque aliquam vestibulum morbi blandit cursus. Rutrum tellus pellentesque eu tincidunt tortor aliquam nulla.Urna nec tincidunt praesent semper feugiat nibh sed pulvinar proin. Sit amet mattis vulputate enim nulla aliquet porttitor lacus luctus. Duis at tellus at urna condimentum mattis pellentesque id nibh. Id diam vel quam elementum pulvinar etiam non. Lacus vestibulum sed arcu non odio euismod lacinia at quis. Sagittis purus sit amet volutpat consequat mauris nunc. Et netus et malesuada fames ac turpis egestas integer eget. Sagittis vitae et leo duis ut. Faucibus in ornare quam viverra orci sagittis eu volutpat odio. Nisi porta lorem mollis aliquam ut. Molestie a iaculis at erat. Condimentum lacinia quis vel eros donec ac odio. Pharetra convallis posuere morbi leo urna molestie at elementum eu. Mauris nunc congue nisi vitae suscipit tellus mauris a. Aliquet eget sit amet tellus.Turpis egestas integer eget aliquet. Nulla aliquet enim tortor at auctor urna nunc. Nec dui nunc mattis enim ut tellus elementum sagittis. Turpis massa sed elementum tempus egestas sed. Senectus et netus et malesuada fames. Tristique senectus et netus et malesuada fames ac turpis. Nulla porttitor massa id neque. Egestas dui id ornare arcu odio. Risus at ultrices mi tempus. Feugiat in ante metus dictum at tempor commodo ullamcorper. Molestie ac feugiat sed lectus vestibulum mattis. Pellentesque habitant morbi tristique senectus et netus et. Bibendum enim facilisis gravida neque convallis.Bibendum ut tristique et egestas quis ipsum suspendisse. Non nisi est sit amet facilisis. Feugiat vivamus at augue eget arcu. Amet justo donec enim diam. Vel turpis nunc eget lorem. Faucibus in ornare quam viverra orci sagittis eu volutpat odio. Id donec ultrices tincidunt arcu non sodales. Viverra adipiscing at in tellus integer feugiat scelerisque varius morbi. Tellus orci ac auctor augue mauris augue neque gravida in. Sed vulputate mi sit amet mauris commodo quis. Non consectetur a erat nam at lectus urna duis. Viverra adipiscing at in tellus integer feugiat scelerisque. Felis eget velit aliquet sagittis id consectetur purus ut faucibus. Risus pretium quam vulputate dignissim.Erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit. Lectus urna duis convallis convallis tellus id interdum velit. Ac tortor dignissim convallis aenean. Viverra ipsum nunc aliquet bibendum enim facilisis gravida. Justo donec enim diam vulputate ut. Pellentesque habitant morbi tristique senectus et netus et. Etiam dignissim diam quis enim lobortis scelerisque. Accumsan sit amet nulla facilisi morbi tempus. Convallis posuere morbi leo urna molestie at elementum eu. Eu augue ut lectus arcu bibendum at. Lectus quam id leo in. Purus ut faucibus pulvinar elementum integer enim. Bibendum enim facilisis gravida neque. Neque ornare aenean euismod elementum nisi quis eleifend.Iaculis at erat pellentesque adipiscing commodo elit. Ac turpis egestas integer eget aliquet nibh praesent tristique magna. Magna etiam tempor orci eu lobortis elementum nibh tellus molestie. Vel fringilla est ullamcorper eget. Tincidunt id aliquet risus feugiat in ante metus dictum at. Et magnis dis parturient montes nascetur ridiculus mus. Ac felis donec et odio pellentesque diam volutpat. Commodo nulla facilisi nullam vehicula ipsum. Amet nisl suscipit adipiscing bibendum est ultricies. Volutpat odio facilisis mauris sit amet massa vitae tortor condimentum. Orci nulla pellentesque dignissim enim sit amet venenatis urna. Eget arcu dictum varius duis at consectetur. Urna et pharetra pharetra massa massa ultricies mi. Turpis in eu mi bibendum neque egestas congue quisque. Enim diam vulputate ut pharetra sit amet. Adipiscing at in tellus integer feugiat scelerisque varius morbi enim. Aliquet enim tortor at auctor urna nunc id cursus metus.Justo eget magna fermentum iaculis eu non diam phasellus. Nunc aliquet bibendum enim facilisis gravida neque. A cras semper auctor neque vitae tempus quam. Netus et malesuada fames ac turpis egestas. Quam adipiscing vitae proin sagittis nisl rhoncus mattis rhoncus urna. Dui ut ornare lectus sit amet est placerat in. Elementum curabitur vitae nunc sed velit dignissim sodales. Sed turpis tincidunt id aliquet. Gravida rutrum quisque non tellus orci ac. Vel elit scelerisque mauris pellentesque pulvinar pellentesque habitant. Nulla facilisi morbi tempus iaculis urna id.Turpis cursus in hac habitasse platea dictumst. Senectus et netus et malesuada. Sit amet facilisis magna etiam. Venenatis a condimentum vitae sapien. Facilisis magna etiam tempor orci eu lobortis elementum nibh. Nunc sed blandit libero volutpat sed cras ornare arcu dui. Tempus urna et pharetra pharetra massa massa ultricies mi quis. Etiam dignissim diam quis enim lobortis scelerisque fermentum. Aliquam nulla facilisi cras fermentum odio eu feugiat pretium. Pharetra magna ac placerat vestibulum lectus mauris ultrices eros. A iaculis at erat pellentesque adipiscing commodo elit. Elit sed vulputate mi sit amet mauris. Fringilla phasellus faucibus scelerisque eleifend donec pretium vulputate sapien. Neque laoreet suspendisse interdum consectetur libero id faucibus. Faucibus vitae aliquet nec ullamcorper sit amet risus. Turpis in eu mi bibendum neque egestas. Ultrices mi tempus imperdiet nulla malesuada pellentesque elit eget gravida. Quis enim lobortis scelerisque fermentum dui. Risus nec feugiat in fermentum posuere urna nec tincidunt praesent. Condimentum id venenatis a condimentum vitae."))   
    }
    println(time)
}

fun ContarLetras(texto : String) : String{
    var cadena = texto
    cadena = Normalizer.normalize(cadena, Normalizer.Form.NFD)

    var mapa = mutableMapOf<Char,Int>()
    var i = 0
    while(i < cadena.length){
        if(cadena[i].isLetter()){
            mapa.merge(cadena[i].lowercaseChar(),1) {
                old, value -> old+value
            }
        }
        i += 1
    }
    return mapa.toSortedMap().toString().replace("[\\s{|\\s}]".toRegex(), "")
}